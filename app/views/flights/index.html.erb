

<h1>Flight Search </h1>

<%= form_with url: "/flights", method: :get, local: true do |form| %>
    <%= form.hidden_field :search, :value => true  %>
    <div class="row mb-3">
        <div class="d-flex justify-content-between">
            <div class="d-flex">
                <%= form.select :from_airport, options_for_select(@available_airports),
                { prompt: "From:", class: 'form-control' } %>
            </div>

            <div class="d-flex">
                <%= form.select :to_airport, options_for_select(@available_airports),
                { prompt: "To:", class: 'form-control' } %>
            </div>

            <div class="d-flex">
                <h5 class="text-right">
                    <%= form.label :start_datetime, "Date" %>
                </h5>

                <%= form.select(:month, @available_months, class:"form-control") %>
                <%= form.select(:day, @available_days, class:"form-control") %>
                <%= form.select(:year, @available_years, class:"form-control") %>
            </div>

            <div class="d-flex">
                <h5 class="text-right">
                 <%= form.label :passenger_count, "Number of Passengers" %>
                </h5>

                <%= form.select :passenger_count, options_for_select(@passengers), class:"form-control" %>
            </div>
        </div>


        <div class="mt-3">
            <%= form.submit "Show flights", class:"btn btn-success " %>
        </div>
    </div>


<% end %>

<%= render partial: 'search_result_form', locals: {search_results: @search_results, passengers: params[:passengers]} %>
